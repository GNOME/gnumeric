2002-07-18  Jody Goldberg <jody@gnome.org>

	* Release 1.0.9

2002-07-18  Jody Goldberg <jody@gnome.org>

	* src/cellspan.c (cell_calc_span) : wrap text does not supercede
	  center across selection.

2002-07-08  Jody Goldberg <jody@gnome.org>

	* src/stf.c (stf_open_and_read) : fix fd leak on OOM

2002-07-02  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=87106
	* src/xml-io.c (xml_read_attributes) : fix typo that broke
	  workbook-view attribute import.

2002-06-24  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=86338
	* src/formats.c (cell_format_time) : reorder to keep hour major
	  formats before minute major.

	* src/number-match.c (MatchType) : add cummulative types.
	(compute_value) : support cummulative time.

2002-06-18  Jody Goldberg <jody@gnome.org>

	* configure.in : post release version bump

2002-06-17  Jody Goldberg <jody@gnome.org>

	* Release 1.0.8

2002-06-17  Jody Goldberg <jody@gnome.org>

	* src/gnumeric-graph.c (gnm_graph_vector_seq_scalar) : support string
	  which can be interpreted as numbers for scalar series in graphs.

2002-04-13  Andreas J. Guelzow <aguelzow@taliesin.ca>

	back port.
	* src/value.c (value_get_as_string) : handle VALUE_ARRAY more reasonably

2002-03-08  Morten Welinder  <terra@diku.dk>

	back port.
	* src/value.c (value_peek_string): Be smarter about errors.

2002-06-03  Jody Goldberg <jody@gnome.org>

	* Release 1.0.7

2002-06-01  Jody Goldberg <jody@gnome.org>

	* src/mathfunc.c (affine_init) : fix and minor simplification.
	(affine_scale) : increase buffer size.

	* src/workbook-format-toolbar.c (cb_format_with_thousands) :
	  Apply the accounting format rather than the numeric version for
	  Keelyn.

	* src/workbook-control : Add set_sensitive.

	* src/workbook-control-gui.c (wbcg_set_sensitive) : new.

	* src/workbook-view.c (wb_view_open_custom) : Use wb_control_set_sensitive.

 	http://bugzilla.gnome.org/show_bug.cgi?id=83794
	* src/stf.c (stf_read_workbook_auto_csvtab) : simple autodetection of
	  tab delimited vs csv

 	http://bugzilla.gnome.org/show_bug.cgi?id=81897
	* src/stf-parse.c (stf_parse_is_valid_data) : actually disable
	  wide character checking if it is not available.

 	http://bugzilla.gnome.org/show_bug.cgi?id=83823
	* gnumeric.desktop.in : Patch in preparation for gnome2

2002-05-23  J.H.M. Dassen (Ray) <jdassen@debian.org>

	* src/analysis-tools.c: fix warning regarding qsort comparison
	  function.
	* src/expr.c: include <stdlib.h> for abort().
	* src/file.c (gnum_file_saver_save_to_stream_real): fixed signedness of
	  'buf'.
	* src/format-template.c: include <string.h> for strcmp().
	* src/gnumeric-graph.c: casts to fix signedness and format warnings.
	* src/mathfunc.c: define _SVID_SOURCE and _BSD_SOURCE for random().
	  (See http://bugs.debian.org/108619 for why it's not just _BSD_SOURCE)
	* src/rangefunc.c: include <string.h> for mempcpy().
	* src/stf.c (stf_preparse): fixed signedness of 'c'.
	* src/validation.c: include <string.h> for strlen().

2002-05-25  Jody Goldberg <jody@gnome.org>

	* src/sort.c (sort_permute) : remove PASTE_EXPR_RELOCATE, it just
	  confuses things in the more compilcated cases.
	* src/clipboard.c (clipboard_paste_region) : ditto.

2002-05-04  Jody Goldberg <jody@gnome.org>

 	http://bugzilla.gnome.org/show_bug.cgi?id=80784
	* src/sheet.c (sheet_colrow_get_default) : new.
	* src/commands.c (cmd_ins_del_colrow_redo) : Use it.

	* src/gnumeric-simple-canvas.c (gnm_simple_canvas_grab) : fix.

2002-05-02  Jody Goldberg <jody@gnome.org>
 
 	http://bugzilla.gnome.org/show_bug.cgi?id=79925
 	* src/sheet-control-gui.c (scg_colrow_select) : flag failures to
 	  initiate a selection
 	* src/item-bar.c (item_bar_event) : only grab if the selection is
 	  successful.
 
2002-05-04  Almer S. Tigelaar  <almer@gnome.org>

	* src/sheet.c (sheet_clone_colrow_info_item): Correct typo s/src/info.

2002-05-01  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/print.c (compute_sheet_pages) : don't overwrite number of
	  pages from previous sheets.

2002-04-29  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=77682
	* src/gnumeric-pane.c (gnumeric_pane_header_init) : set a
	  non-contraining scrollregion here in case something scrolls before we
	  are realized and a real region is assigned.

2002-04-29  Jody Goldberg <jody@gnome.org>

	* src/item-cursor.c : remove the flushes in here.

	* src/gnumeric-simple-canvas.c (gnm_simple_canvas_ungrab) : add a
	  flush here.
	(gnm_simple_canvas_grab) : and here so that long running events change
	  grab state immediately.

2002-04-29  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=80134
	* src/sheet.c (sheet_duplicate) : clone freeze status too.
	(sheet_clone_colrow_info_item) : simplify and use colrow_copy.

2002-04-14  Jody Goldberg <jody@gnome.org>

	* configure.in : post release version bump

2002-04-13  Jody Goldberg <jody@gnome.org>

	* Release 1.0.6

2002-04-12  Jody Goldberg <jody@gnome.org>

	* src/func.c (copy_hash_table_to_ptr_array) : back port the plugin doc
	  dumping operation.
	* src/main.c (main) : ditto.

	* src/sheet-control-gui.c (scg_object_update_bbox) : back port fix.

	* src/main.c (handle_paint_events) : disable warning for old versions.

2002-04-12  Jon K Hellan  <hellan@acm.org>

	* plugins/Makefile.am (SUBDIRS_FILE_FORMATS): Plan Perfect plugin
	  got installed, but not built. Don't do either.

2002-04-09  Jon K Hellan  <hellan@acm.org>

	* configure.in: Test for isfinite as a macro. Test for <wctype.h>

	* acconfig.h: Test for isfinite as a macro.

	* src/stf-parse.c: Include <wctype.h> only if present.

2002-04-02  Morten Welinder  <terra@diku.dk>

	* src/mathfunc.c (gnumeric_fake_trunc): Backport fix from head.

2002-03-31  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/analysis-tools.c (set_cell_value) : plug leak

2002-03-20  Jody Goldberg <jody@gnome.org>

	* src/cellspan.c (cell_calc_span) : Fix span calc when spanning
	  through hidden columns with content there was a typo, and a logic
	  error.  No need to change the margin for an invisible column.

2002-03-18  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=75193
	* src/xml-io.c (xml_sheet_read) : look at the right node.

2002-03-15  Jody Goldberg <jody@gnome.org>

	* src/expr.c (cellref_relocate) : don't use the ultra safe reference
	  checks here, we WANT to know if things are out of bounds.
	  back port some relocation fixes : We need to bounds check in->in rel
	  movement.

2002-03-09  Jody Goldberg <jody@gnome.org>

	* Release 1.0.5

2002-03-09  Jody Goldberg <jody@gnome.org>

	* src/func.c (copy_hash_table_to_ptr_array) : when dumping a function
	  ensure that it has been loaded.

	* src/validation.c (validation_eval) : back port some fixes.

	* src/eval.c (micro_hash_init) : back port fix.

2002-03-05  Jody Goldberg <jody@gnome.org>

	* src/eval.c (dependent_unlink) : fix typo.

2002-03-02  Jody Goldberg <jody@gnome.org>

	* src/sheet-object-cell-comment.c (comment_get_points) : fix 1 pixel
	  offset from right edge.

2002-02-28  Jody Goldberg <jody@gnome.org>

	* src/eval.c (handle_tree_deps) : disregard inactive names.

2002-02-26  Jody Goldberg <jody@gnome.org>

	* src/workbook-control-gui.c (workbook_control_gui_init) : handle the
	  reording of ins col/row in the insert menu.

2002-02-25  Morten Welinder  <terra@diku.dk>

	Back-port from HEAD:
	* src/mstyle.c (mstyle_to_string): Missing g_strdup added for
 	sanity check, just in case.
	* src/summary.c (summary_item_as_text): Ditto.
	* src/value.c (value_get_as_string): Ditto.

2002-02-24  Almer S. Tigelaar  <almer@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=72416
	http://bugzilla.gnome.org/show_bug.cgi?id=71783
	* src/stf-export.c (stf_export_cell):
	Honor the 'never' quote setting and fix a subtle
	bug that caused the quoting character always be	"

2002-02-21  Jody Goldberg <jody@gnome.org>

	* omf-install/Makefile.am : update.
	* configure.in : add the new doc dirs for the topic.dat files.
	* doc/Makefile.am : ditto.

2002-02-20  Morten Welinder  <terra@diku.dk>

        * src/format.c (format_value): Missing g_strdup added for sanity
	check, just in case.

2002-02-19  Morten Welinder  <terra@diku.dk>

	* src/regression.c (general_linear_regression): back-port cleanup
	from unstable branch.

2002-02-19  Jody Goldberg <jody@gnome.org>

	http://bugzilla.gnome.org/show_bug.cgi?id=69362
	* src/auto-correct.c (autocorrect_tool) : only upper case things if
	  they are at the start of a word.

2002-02-19  Jody Goldberg <jody@gnome.org>

	From C. Scott Ananian <cananian@lesser-magoo.lcs.mit.edu>
	* src/xml-io.c (xml_read_attributes) : fix import of WorkbookView
	  attributes.

2002-02-15  Morten Welinder  <terra@diku.dk>

	* src/regression.c (LUPDecomp): Use fabs, not abs.
	* src/validation.c (validation_eval): Ditto.

2002-02-11  Jody Goldberg <jody@gnome.org>

	* src/stf.c (stf_init) : improve naming of the text exporter.

	http://bugzilla.gnome.org/show_bug.cgi?id=71172
	* src/validation.c (validation_eval) : keep the initial value around

	http://bugzilla.gnome.org/show_bug.cgi?id=69328
	* src/expr-name.c (expr_name_remove) : If nothing is using the name
	  then the unlink unrefs it and it was deleted before we could clear
	  it.  Add a ref wrapper to ensure that we can clear things.

2002-02-10  Jody Goldberg <jody@gnome.org>

	* src/commands.c (cmd_set_text) : doh!

2002-02-07  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/analysis-tools.c (anova_single_factor_tool) : be more
	  careful with precision.
	* src/rangefuncs.c (range_sum) : improve precision through 2 pass
	  algorithm
	(range_sumsq) : ditto

2002-01-31  Jody Goldberg <jody@gnome.org>

	* src/workbook-control.c (wb_control_parse_and_jump) : make defined
	  names absolute.

2002-02-01  Jody Goldberg <jody@gnome.org>

	* version bump.

2002-01-30  Jody Goldberg <jody@gnome.org>

	* Release 1.0.4

2002-01-30  Jody Goldberg <jody@gnome.org>

	* src/dialogs/dialog-autoformat.c (templates_load) : changes to
	  category_group_get_templates_list.

	* src/xml-io-autoft.c (gnumeric_xml_write_format_template) : take a
	  context not a control to clarify things.
	(gnumeric_xml_read_format_template) : ditto.

	* src/workbook.c (workbook_persist_file_save) : changes to
	  wb_view_save_as.

	* src/io-context.c (io_context_destroy) : impl is a command context now.
	(gnumeric_io_context_new) : weaken requirements so that all we need is
	  a command context.  Not strictly necessary, but makes it less likely
	  that people will get confused.

	* src/workbook-view.c (wb_view_save_as) : Take a command context not a
	  workbook control to avoid confusing what we are saving.
	(wb_view_save) : ditto.
	(wb_view_selection_desc) : Implement using an explicit control.
	(wb_view_open_custom) : add a missing precondition.
	* src/gui-file.c (do_save_as) : changes to wb_view_save_as.
	(gui_file_save_to_stream) :  changes to gnumeric_io_context_new.

	* src/file-autoft.c (category_get_templates_list) : take a command
	context, not a workbookcontrol.
	(category_group_get_templates_list) : ditto.
	* src/format-template.c (format_template_new) : ditto.
	(format_template_new_from_file) : ditto.

2002-01-28  Jody Goldberg <jody@gnome.org>

	* src/style.c (style_font_new_simple) : __FUNCTION__ is non portable.
	(style_font_ref) : ditto.
	(style_font_unref) : ditto.

2002-01-29  Duarte Loreto <happyguy_pt@hotmail.com>

        * src/workbook-control-gui.c : Fixed misspell of variance (was "varince")
        * src/GNOME_Gnumeric.xml: Same as previous

2002-01-28  Jody Goldberg <jody@gnome.org>

	* src/workbook-control-gui.c : List Column actions before Row actions.
	* src/GNOME_Gnumeric.xml : ditto.

2002-01-28  Jody Goldberg <jody@gnome.org>

	* src/sheet-object-widget.c (sheet_widget_checkbox_user_config) :
	create the table.

2002-01-27  Jody Goldberg <jody@gnome.org>

	* src/sheet-object-widget.c (sheet_widget_scrollbar_read_xml) : simple
	  fix for reading scrollbars.  A better fix is in HEAD.

2002-01-25  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* src/cell.h (cell_get_render_color) : new
	* src/rendered-value.c (cell_get_render_color) : new

2002-01-24  Jody Goldberg <jody@gnome.org>

	* src/number-match.c (format_create_regexp) : We already escape the
	  thousands sep and decimal point.  Don't double escape them.

2002-01-23  Jody Goldberg <jody@gnome.org>

	* src/sheet-object-widget.c (sheet_widget_scrollbar_set_sheet) : don't
	  eval.  We've already set the value.

2002-01-23  Jody Goldberg <jody@gnome.org>

	* configure.in : restore the missing lines.
	Add omf-install/Makefile

2002-01-22  Jody Goldberg <jody@gnome.org>

	* src/sheet-autofill.c (autofill_create_fill_items) : Use
	  list_prepend, and reverse in palce of append.

2001-01-22  Kevin Breit <mrproper@ximian.com>

	* Makefile.am: Added omf-install/
	* omf-install: Added directory for OMF stuff
	* omf-install/Makefile.am: Copied that in

2002-01-22  Rodrigo Moya <rodrigo@gnome-db.org>

	* README:
	* configure.in: increased minimum libgda versions
