#ifndef GNOME_PORTABILITY_H
#define GNOME_PORTABILITY_H 1

#ifdef __LCLINT__
/* Placate the beast */
extern /*@dependant@*/ void *g_alloca(size_t size);
#else
#if !defined(g_alloca)

#  if @GNUMERIC_HAVE_ALLOCA_H@ /* GNUMERIC_HAVE_ALLOCA_H */
#  include <alloca.h>
#  endif

#  include <string.h>

#  if defined(__GNUC__)

#    if defined(__STRICT_ANSI__)
#      define alloca __builtin_alloca
#    endif

#  elif !(@GNUMERIC_HAVE_ALLOCA_H@)

#    if defined(_AIX)
 #pragma alloca
#    elif !defined(alloca) /* predefined by HP cc +Olibcalls */
char *alloca ();
#    endif

#  endif /* __GNUC__ etc. */

#  define g_alloca alloca
#  define g_alloca0(x) memset(g_alloca(x), '\0', (x))

#endif /* !defined(g_alloca) */
#endif

#endif /* GNUMERIC_PORTABILITY_H */
